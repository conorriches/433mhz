{"version":3,"sources":["controller.js"],"names":[],"mappings":"AAAA,MAAM,SAAS,CAAf;AACA,MAAM,SAAS,CAAf;;AAGA,IAAI,QAAQ,QAAQ,MAAR,CAAe,aAAf,EAA6B,EAA7B,CAAZ;;AAEA,MAAM,UAAN,CAAiB,cAAjB,EAAiC,CAAC,QAAD,EAAU,OAAV,EAAmB,UAAS,MAAT,EAAiB,KAAjB,EAAwB;;AAGxE,WAAO,QAAP,GAAkB,OAAlB;AACA,WAAO,UAAP,GAAoB,KAApB;AACA,WAAO,KAAP,GAAa,SAAb;;AAEA,WAAO,UAAP,GAAoB,CAChB,IAAI,IAAJ,CAAS,YAAT,EAAsB,MAAtB,EAA8B,CAA9B,EAAgC,CAAhC,CADgB,EAEhB,IAAI,IAAJ,CAAS,YAAT,EAAsB,MAAtB,EAA6B,CAA7B,EAA+B,CAA/B,CAFgB,EAGhB,IAAI,IAAJ,CAAS,KAAT,EAAe,MAAf,EAAsB,CAAtB,EAAwB,CAAxB,CAHgB,EAIhB,IAAI,IAAJ,CAAS,kBAAT,EAA4B,MAA5B,EAAmC,CAAnC,EAAqC,CAArC,CAJgB,CAApB;;AAOA,WAAO,UAAP,GAAoB,UAAS,IAAT,EAAc;;AAE9B,aAAK,MAAL,GAAc,CAAC,KAAK,MAApB;AACA,YAAI,MAAM,KAAK,SAAL,GAAiB,EAAjB,GAAsB,KAAK,QAA3B,IAAuC,KAAK,MAAL,GAAY,GAAZ,GAAgB,GAAvD,CAAV;AACA,gBAAQ,GAAR,CAAY,GAAZ;AACA,cAAM,KAAN,CAAY,0BAAZ,EAAwC;AACpC,oBAAQ,EAAE,KAAK,GAAP;AAD4B,SAAxC;;AAIA,YAAI,SAAS,IAAb;AACA,eAAO,UAAP,CAAkB,OAAlB,CAA0B,UAAS,CAAT,EAAW;AACjC,gBAAG,EAAE,MAAL,EAAY,SAAO,KAAP;AACf,SAFD;AAGA,YAAG,MAAH,EAAU;AACN,mBAAO,KAAP,GAAa,SAAb;AACH,SAFD,MAEK;AACD,mBAAO,KAAP,GAAa,SAAb;AACH;AAGJ,KApBD;;AAsBA,WAAO,MAAP,GAAgB,UAAS,IAAT,EAAc;;AAE1B,YAAG,OAAO,UAAV,EAAqB;AACjB,mBAAO,KAAK,MAAZ;AACH;;AAGD,eAAO,IAAP;AACH,KARD;AAWH,CA/CgC,CAAjC,E","file":"controller-compiled.js","sourcesContent":["const SWITCH = 0;\r\nconst TOGGLE = 1;\r\n\r\n\r\nvar myApp = angular.module('lightingApp',[]);\r\n\r\nmyApp.controller('lightingCtrl', ['$scope','$http', function($scope, $http) {\r\n\r\n\r\n    $scope.greeting = 'Hola!';\r\n    $scope.activeOnly = false;\r\n    $scope.color=\"#388E3C\";\r\n\r\n    $scope.collection = [\r\n        new Item(\"LED lights\",SWITCH, 1,1),\r\n        new Item(\"Spotlights\",SWITCH,1,2),\r\n        new Item(\"Fan\",SWITCH,1,3),\r\n        new Item(\"Immersion Heater\",SWITCH,1,4)\r\n    ];\r\n\r\n    $scope.alterState = function(item){\r\n\r\n        item.status = !item.status;\r\n        var str = item.channelNo + \"\" + item.switchNo + (item.status?'1':'0');\r\n        console.log(str);\r\n        $http.jsonp(\"http://lighting.416.home\", {\r\n            params: { \"s\": str }\r\n        });\r\n\r\n        var allOff = true;\r\n        $scope.collection.forEach(function(e){\r\n            if(e.status)allOff=false;\r\n        });\r\n        if(allOff){\r\n            $scope.color=\"#388E3C\";\r\n        }else{\r\n            $scope.color=\"#d32f2f\";\r\n        }\r\n\r\n\r\n    };\r\n\r\n    $scope.filter = function(item){\r\n\r\n        if($scope.activeOnly){\r\n            return item.status;\r\n        }\r\n\r\n\r\n        return true;\r\n    };\r\n\r\n\r\n}]);/**\r\n * Created by criches on 01/06/2016.\r\n */\r\n"]}